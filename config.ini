[Settings]
# Folder to watch for new PDF files
watch_folder = D:\programing\Python\OCR_Picklist\test_input

# Folder to save renamed files (leave empty to rename in same folder)
output_folder = D:\programing\Python\OCR_Picklist\test_output 

# Extractor Version Selection
# Set to True to use PDFTextExtractorV2 (faster with parallel processing)
# Set to False to use standard PDFTextExtractor
use_extractor_v2 = True

# Pages to read (comma-separated, 1-based index)
# Examples: 1 (first page only), 2 (second page only), 1,2 (both pages)
pages_to_read = 1

# Header area to extract text from (in pixels or percentage)
# Format: x, y, width, height (from top-left corner)
header_area_top = 2
header_area_left = 12
header_area_width = 42
header_area_height = 4

# File naming options
max_filename_length = 100
remove_special_chars = True
replace_spaces_with = _

# Format validation (for scoring OCR results)
# Expected format: B-F-GTX-S17893848
expected_parts = 4
# Minimum parts to accept (3 for formats like B-F-S17893848, 4 for B-HK-WFE-S17975746)
min_expected_parts = 3
expected_separator = -
expected_digit_count = 8
min_digit_count = 6

# Pattern-Based Validation (more precise)
# Enable pattern validation for better accuracy
enable_pattern_validation = True
# Format: [Prefix:1]-[Country/Region:1-2]-[Code/Type:2-4]-[Serial/ID:7-10]
# Example: B-C-5U5-R4091534
# Part 1: Prefix (single letter)
pattern_prefix_length = 1
# Part 2: Country/Region code (1-2 letters)
pattern_country_min = 1
pattern_country_max = 2
# Part 3: Code/Type (2-4 alphanumeric characters)
pattern_code_min = 2
pattern_code_max = 4
# Part 4: Serial/ID (7-9 characters: FIRST CHAR must be S or R, rest must be DIGITS)
# Valid: R4091534 (9 chars), S1789384 (8 chars)
# Invalid: T1234567, R123456A, R12 (too short)
pattern_serial_min = 7
pattern_serial_max = 9
pattern_serial_allowed_prefixes = S,R

# Processing options
delete_original = False
add_timestamp = False
file_extension = .pdf

# PDF Splitting Configuration
# Enable PDF splitting feature (split single PDF into multiple PDFs based on header changes)
enable_pdf_splitting = True
# Split files output folder (leave empty to use same as output_folder)
split_output_folder = 
# Minimum pages per split (avoid creating very small PDFs)
# Set to 1 to allow single-page splits
min_pages_per_split = 1
# Split file naming pattern
# Available placeholders: {header}, {start}, {end}, {index}, {original}
# {header} = extracted header text
# {start} = first page number
# {end} = last page number  
# {index} = split index (1, 2, 3...)
# {original} = original filename without extension
# Example patterns:
#   {header}_pages_{start}-{end}     -> B-C-5U5-R4091534_pages_1-5.pdf
#   {original}_split_{index}_{header} -> document_split_1_B-C-5U5-R4091534.pdf
split_naming_pattern = {header}
# Header similarity threshold (0.0-1.0) for grouping pages with similar headers
# 1.0 = exact match only, 0.9 = 90% similarity acceptable
header_similarity_threshold = 0.85
# Use serial number (last part) as primary matching key
# If True: pages with same serial are grouped together regardless of code part differences
# Recommended: True (more accurate grouping when OCR varies on code part like WFE/WEE/WEFE)
enable_serial_based_matching = True
# Delete original PDF after successful splitting
delete_original_after_split = False

# API Logging Configuration
# Enable or disable logging extraction results to API
enable_api_logging = True
# API endpoint URL for logging extraction results
api_log_url = http://mth-vm-pdw/pdw-picklist-api/api/PDW/AddExtractionLog

# Performance Optimization
# Enable parallel processing (runs multiple OCR methods simultaneously)
enable_parallel_processing = True
# Maximum number of parallel workers (2-6 recommended, depends on CPU cores)
max_workers = 4

# OCR Optimization
# Enable black text filtering (helps ignore colored text/watermarks)
ocr_filter_black_text = True
# Black text threshold (0-255, lower = darker). Default: 100 means keep text darker than this value
ocr_black_threshold = 100

# Debug Image Configuration
# Enable saving extracted images for verification and debugging
save_debug_images = True
# Folder to save debug images (leave empty to use default: debug_images)
debug_images_folder = debug_images
# Organize images by date (creates subfolders like debug_images/2026-01-28/)
organize_by_date = True
# Save preprocessing method images (all 10 methods) - useful for troubleshooting
save_method_images = True
# Image retention days (0 = keep forever, >0 = auto-delete older images)
image_retention_days = 7

[Logging]
log_level = INFO
log_file = pdf_watcher.log
