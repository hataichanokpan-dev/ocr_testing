[Settings]
# ===== Header Region Settings =====
header_area_top = 2
header_area_left = 12
header_area_width = 42
header_area_height = 4

# Pages to read (comma-separated, 1-based, or 'all' for all pages)
# Use 'all' for PDF splitting to read every page
pages_to_read = all

# ===== Pattern Validation Settings =====
enable_pattern_validation = true

# Expected format: [Prefix]-[Country]-[Code]-[Serial]
# Example: B-HK-WFE-S17975643 (4 parts)
# Or: B-WFE-S17975643 (3 parts, no country)
expected_parts = 4
min_expected_parts = 3
expected_separator = -
expected_digit_count = 8
min_digit_count = 6

# Pattern structure
pattern_prefix_length = 1
pattern_country_min = 1
pattern_country_max = 2
pattern_code_min = 2
pattern_code_max = 4
pattern_serial_min = 7
pattern_serial_max = 10

# Allowed serial prefixes (comma-separated)
# Example: S17975643, R12345678
pattern_serial_allowed_prefixes = S,R

# ===== Performance Settings =====
enable_parallel_processing = true
max_workers = 4

# ===== Adaptive Rendering (NEW in V3) =====
# Start with low scale, escalate if score is low
adaptive_rendering = true
initial_render_scale = 2.0
max_render_scale = 6.0
score_threshold_for_escalation = 70

# ===== OCR Budget Control (NEW in V3) =====
# Limit number of OCR attempts to improve speed
max_ocr_attempts = 8
early_exit_score = 90
voting_method_score_threshold = 70

# ===== OCR Optimization =====
ocr_filter_black_text = true
ocr_black_threshold = 100

# ===== Input/Output Paths (NEW in V3) =====
# Input folder for PDF files to process
input_folder = input

# Output folder structure: {output_base_dir}/{YYYY}/{YYYY-MM-DD}/files
output_base_dir = output
organize_by_year_and_date = true
output_retention_days = 90

# ===== Debug Images =====
save_debug_images = true
debug_images_folder = debug_images
organize_by_date = true
save_method_images = true
image_retention_days = 30

# ===== API Logging =====
api_log_url = http://mth-vm-pdw/pdw-picklist-api/api/PDW/AddExtractionLog
enable_api_logging = true

# Async logging (NEW in V3) - non-blocking
api_log_async = true
api_queue_size = 1000
api_timeout = 5
circuit_breaker_threshold = 5

# ===== Filename Sanitization =====
remove_special_chars = true
replace_spaces_with = _
max_filename_length = 100

# ===== PDF Splitting =====
enable_pdf_splitting = true
min_pages_per_split = 1
header_similarity_threshold = 1.0
enable_serial_based_matching = true
split_naming_pattern = {header}

# ===== Logging (NEW in V3) =====
# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
log_level = INFO
log_method_details = false

# ===== Performance Metrics (NEW in V3) =====
enable_metrics_tracking = true
metrics_export_path = metrics.json
